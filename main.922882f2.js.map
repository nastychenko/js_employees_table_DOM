{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tableBody","form","createElement","className","innerHTML","formSubmitHandler","e","preventDefault","employee","employeeName","employeePosition","employeeOffice","employeeAge","employeeSalary","message","textContent","name","value","trim","position","office","age","salary","replace","length","focus","pushNotification","append","reset","body","addEventListener","title","result","container","notification","notificationTitle","notificationMessage","classList","add","dataset","qa","style","cssText","setTimeout","opacity","transition","remove","compareCellTextAsc","i","a","b","cells","localeCompare","compareCellTextDesc","compareCellNumberAsc","compareCellNumberDesc","activeElements","setSortDirection","num","switcher","fill","sorter","index","fieldType","sortedRows","rows","compareCellAsc","compareCellDesc","sort","tBodies","sortPeople","targetName","clickHandler","target","toLowerCase","tHead","map","row","row1","dbClickHandler","clickEvent","tagName","editCell","text","input","cellStyles","getComputedStyle","width","parentElement","children","type","min","max","saveInputValue","key","onblur","isFinite"],"mappings":"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","file":"main.922882f2.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tableBody = document.querySelector('tbody');\nconst form = document.createElement('form');\n\n// Form for adding new row to the table\n\nform.className = 'new-employee-form';\n\nform.innerHTML = `\n  <label>\n    Name:\n    <input\n      name=\"name\"\n      type=\"text\"\n      data-qa=\"name\"\n    >\n  </label>\n  <label>\n    Position:\n    <input\n      name=\"position\"\n      type=\"text\"\n      data-qa=\"position\"\n    >\n  </label>\n  <label>\n    Ofice:\n    <select name=\"office\" data-qa=\"office\" required>\n      <option>Tokyo</option>\n      <option>Singapore</option>\n      <option>London</option>\n      <option>New York</option>\n      <option>Edinburgh</option>\n      <option>San Francisco</option>\n    </select>\n  </label>\n  <label>\n    Age:\n    <input\n      name=\"age\"\n      type=\"number\"\n      data-qa=\"age\"\n    >\n  </label>\n  <label>\n    Salary:\n    <input\n      name=\"salary\"\n      type=\"number\"\n      data-qa=\"salary\"\n    >\n  </label>\n  <button type=\"submit\">Save to table</button>\n`;\n\nconst formSubmitHandler = (e) => {\n  e.preventDefault();\n\n  const employee = document.createElement('tr');\n  const employeeName = document.createElement('td');\n  const employeePosition = document.createElement('td');\n  const employeeOffice = document.createElement('td');\n  const employeeAge = document.createElement('td');\n  const employeeSalary = document.createElement('td');\n  const title = 'Success';\n  let message = 'New employee has been added to the table';\n  const result = 'success';\n\n  employeeName.textContent = form.name.value.trim();\n  employeePosition.textContent = form.position.value.trim();\n  employeeOffice.textContent = form.office.value;\n  employeeAge.textContent = form.age.value;\n\n  employeeSalary.textContent\n    = `$${form.salary.value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}`;\n\n  if (employeeName.textContent.length < 4) {\n    form.name.focus();\n    message = 'Name value should be longer than 3 characters';\n\n    pushNotification(message);\n\n    return;\n  } else if (employeePosition.textContent.length < 4) {\n    form.position.focus();\n    message = 'Position value should be longer than 3 characters';\n\n    pushNotification(message);\n\n    return;\n  } else if (employeeAge.textContent < 18 || employeeAge.textContent > 90) {\n    form.age.focus();\n\n    message\n      = 'Age value should be greater than or equal 18 and less or equal 90';\n\n    pushNotification(title, message, result);\n\n    return;\n  } else if (form.salary.value < 1000) {\n    form.salary.focus();\n    message = 'Salary value should be greater than or equal 1000';\n\n    pushNotification(message);\n\n    return;\n  };\n\n  employee.append(employeeName, employeePosition,\n    employeeOffice, employeeAge, employeeSalary);\n\n  tableBody.append(employee);\n\n  pushNotification(message, title, result);\n\n  form.reset();\n};\n\ndocument.body.append(form);\n\nform.addEventListener('submit', formSubmitHandler);\n\nconst pushNotification = (message, title = 'Error', result = 'error') => {\n  const container = document.createElement('div');\n  const notification = document.createElement('div');\n  const notificationTitle = document.createElement('h2');\n  const notificationMessage = document.createElement('p');\n\n  notificationTitle.textContent = title;\n  notificationMessage.textContent = message;\n\n  notificationTitle.classList.add('title');\n  notification.classList.add('notification', result);\n  notification.dataset.qa = 'notification';\n\n  notification.style.cssText = `\n    position: static;\n    border: 1px solid transparent;\n  `;\n\n  notification.append(\n    notificationTitle, notificationMessage\n  );\n\n  container.className = 'container';\n\n  container.style.cssText = `\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 10px;\n    display: flex;\n    gap: 10px;\n    flex-direction: column-reverse;\n  `;\n\n  const existContainer = document.querySelector('.container');\n\n  if (!existContainer) {\n    document.body.append(container);\n  }\n\n  document.querySelector('.container').append(notification);\n\n  setTimeout(() => {\n    notification.style.opacity = 0;\n    notification.style.transition = 'opacity 0.3s';\n\n    setTimeout(() => {\n      notification.remove();\n    }, 300);\n  }, 2000);\n};\n\n// Implement table sorting by clicking on the title (in two directions)\n\nconst compareCellTextAsc = (i) => {\n  return (a, b) => {\n    return a.cells[i].textContent.localeCompare(b.cells[i].textContent);\n  };\n};\n\nconst compareCellTextDesc = (i) => {\n  return (a, b) => {\n    return b.cells[i].textContent.localeCompare(a.cells[i].textContent);\n  };\n};\n\nconst compareCellNumberAsc = (i) => {\n  return (a, b) => {\n    return +a.cells[i].textContent.replace(/[$,]/g, '')\n    - +b.cells[i].textContent.replace(/[$,]/g, '');\n  };\n};\n\nconst compareCellNumberDesc = (i) => {\n  return (a, b) => {\n    return +b.cells[i].textContent.replace(/[$,]/g, '')\n    - +a.cells[i].textContent.replace(/[$,]/g, '');\n  };\n};\n\nconst activeElements = [false, false, false, false, false];\n\nconst setSortDirection = (num) => {\n  const switcher = activeElements[num];\n\n  activeElements.fill(false);\n  activeElements[num] = !switcher;\n};\n\nconst sorter = (index, fieldType) => {\n  const sortedRows = [...tableBody.rows];\n  const compareCellAsc = fieldType === 'text'\n    ? compareCellTextAsc : compareCellNumberAsc;\n  const compareCellDesc = fieldType === 'text'\n    ? compareCellTextDesc : compareCellNumberDesc;\n\n  if (!activeElements[index]) {\n    sortedRows.sort(compareCellAsc(index));\n    setSortDirection(index);\n  } else {\n    sortedRows.sort(compareCellDesc(index));\n    setSortDirection(index);\n  }\n\n  table.tBodies[0].append(...sortedRows);\n};\n\nconst sortPeople = (targetName) => {\n  if (targetName === 'name') {\n    sorter(0, 'text');\n  };\n\n  if (targetName === 'position') {\n    sorter(1, 'text');\n  };\n\n  if (targetName === 'office') {\n    sorter(2, 'text');\n  };\n\n  if (targetName === 'age') {\n    sorter(3, 'number');\n  };\n\n  if (targetName === 'salary') {\n    sorter(4, 'number');\n  };\n};\n\nconst clickHandler = (e) => {\n  sortPeople(e.target.textContent.toLowerCase(), e);\n};\n\ntable.tHead.addEventListener('click', clickHandler);\n\n// Selecting a row by click\n\n[...tableBody.rows].map(row => row.addEventListener('click', () => {\n  [...tableBody.rows].map(row1 => row1.classList.remove('active'));\n  row.className = 'active';\n}));\n\n// Implement editing of table cells by double-clicking on it\n\nconst dbClickHandler = (clickEvent) => {\n  if (clickEvent.target.tagName === 'TD') {\n    const editCell = clickEvent.target;\n    const text = editCell.textContent;\n    const input = document.createElement('input');\n    const cellStyles = getComputedStyle(editCell);\n\n    input.style.width = cellStyles.width;\n    input.value = text;\n    input.className = 'cell-input';\n    editCell.textContent = '';\n    editCell.append(input);\n    input.focus();\n\n    if (clickEvent.target.parentElement.children[3] === clickEvent.target) {\n      input.type = 'number';\n      input.min = 18;\n      input.max = 90;\n    }\n\n    if (clickEvent.target.parentElement.children[4] === clickEvent.target) {\n      input.value = text.replace(/[$,]/g, '');\n      input.type = 'number';\n      input.min = 1000;\n    }\n\n    const saveInputValue = e => {\n      if (e.key === 'Enter') {\n        input.onblur = '';\n      }\n\n      if (e.key === 'Enter' || e.type === 'blur') {\n        if (clickEvent.target.parentElement.children[4] === clickEvent.target) {\n          editCell.textContent\n            = `$${input.value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}`;\n        } else {\n          editCell.textContent = input.value;\n        }\n\n        if ((clickEvent.target.parentElement.children[0] === clickEvent.target\n        || clickEvent.target.parentElement.children[1] === clickEvent.target\n        || clickEvent.target.parentElement.children[2] === clickEvent.target)\n        && isFinite(input.value) && input.value.length < 4) {\n          editCell.textContent = text;\n\n          pushNotification('Wrong input');\n        }\n\n        if (!input.value.trim()) {\n          editCell.textContent = text;\n        }\n\n        input.remove();\n      }\n    };\n\n    input.addEventListener('blur', saveInputValue);\n    input.addEventListener('keypress', saveInputValue);\n  }\n};\n\ntable.addEventListener('dblclick', dbClickHandler);\n"]}